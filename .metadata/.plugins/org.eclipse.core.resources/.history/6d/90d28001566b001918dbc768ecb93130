package com.locadorav2;

public class Executora {
	public static void main(String[] args) {
		
		Locadora lcdr = new Locadora("MATRIX");
		
		int opcao = 0;
		do {
			opcao = View.solicitarDadosInt("Selecione uma opcao: ",
					"1 - Cadastrar filial\n"
					+"2 - Listar filiais\n"
					+"3 - Selecionar uma filial\n"
					+"0 - Sair.."
			);
			switch (opcao) {
			case 0:
				opcao = 0;
				break;
			case 1:
				try {
					Filial fTmp = Filial.cadastrarFilial();
					lcdr.addFilial(fTmp);
				} catch (Exception e) {
					View.exibirMsgErro(e.getMessage());
				}
				break;
			case 2:
				if(lcdr.getFlais().size() != 0) {
					String tmp = null;
					tmp = Filial.listaFiliais(lcdr.getFlais());
					View.exibirMsg(tmp);
				} else
					View.exibirMsgErro("Nao existem filiais cadastradas!");
				break;
			case 3:
				if(lcdr.getFlais().size() != 0) {
					subMenuFilial(Filial.selecionaFilial(lcdr.getFlais()));
				} else
					View.exibirMsgErro("Nao existem filiais cadastradas!");
				break;
			default:
				View.exibirMsgErro("Opcao invalida!");
				break;
			}
		} while (opcao != 0);
	}
	
	public static void subMenuFilial(Filial flal) {
		int opcao = 0;
		do {
			opcao = View.solicitarDadosInt(flal.getNome(),
					"1 - Cadastrar um filme\n"
					+"2 - Cadastrar um cliente\n"
					+"3 - Cadastrar um funcionario\n"
					+"4 - Realizar uma locacao\n"
					+"0 - Sair"
			);
			switch (opcao) {
			case 0:
				opcao = 0;
				break;
			case 1:
				try {
					Filme fTmp = Filme.cadastraFilme();
					flal.addFilme(fTmp);
				} catch (Exception e) {
					View.exibirMsgErro(e.getMessage());
				}
				break;
			case 2:
				try {
					Cliente cTmp = Cliente.cadastraClnt();
					flal.addCliente(cTmp);
				} catch (Exception e) {
					View.exibirMsgErro(e.getMessage());
				}
				break;
			case 3:
				try {
					
				} catch (Exception e) {
					// TODO: handle exception
				}
				break;
			case 4:
				break;
			default:
				break;
			}
		} while (opcao != 0);
	}
}
